<!--This component is designed for creating a case based on the report advers events-->
<template>
	<div>
		<template if:true={showDivSubmit}>
			<div class="toast">
				<p class="para"><img class="img4" src={rightImg}>Success! Your support case has been created.</p>
				<div class="notify">
					<button class="buttonclass btncls" onclick={handleclose}
						data-it-button="reportadverseevents: Record After Save Message">
						<p class="font">X</p>
					</button>
				</div>
			</div>
		</template>
		<template if:true={showDivDraft}>
			<div class="toast">
				<p class="para"><img class="img4" src={rightImg}>Take your time and come back when you're ready to submit</p>
				<div class="notify">
					<button class="buttonclass btncls" onclick={handleclose}
						data-it-button="reportadverseevents: Record After Save Message">
						<p class="font">X</p>
					</button>
				</div>
			</div>
		</template>
	</div>
	<div class="main" data-it-uid={userId}>

		<div class="response">

			<div class="heading">

				<div class="back" onclick={handleBack}>
					<div><img src={backArrow} class="imgmod" width="12px" height="24px"></div>
					<div>
						<p> Back </p>
					</div>
				</div>
				<!-- <h2>Support Center</h2> -->
			</div>

			<div class="medicalheading">
				<h2>Report an Adverse Events</h2>
			</div>
			<div class="icon">
				<img src={boxedicon} class="img">
				<div>
					<p class="parag">This platform is not a substitute for medical consultation and treatment. Always
						consult
						with your physician or other qualified healthcare provider for any information or
						treatment of the condition and follow their advice. In case of an emergency situation,
						please immediately contact your healthcare provider.</p>
				</div>
			</div>
			<div class="form-container">
				<!-- Your form content goes here -->
				<div class="medicalform">
					<div class={radioBtnColorChange}>
						<label>Select Sub Type *</label>
						<div class="medicalInput">
							<lightning-radio-group name="options" options={subTypeOptions} value={selectedOption}
								onchange={handleRadioChange} disabled={isReadOnly}></lightning-radio-group>
						</div>


					</div><br>
					<div class="error-throwtitle" if:true={subTypeError}> {subTypeErr}</div>

					<label data-field="desc" class="desnot">Description *</label><br>
					<lightning-textarea  class={class5} data-field="desc" variant="label-hidden" value={description} onchange={handledescription}></lightning-textarea>
					<div class="error-throw" if:true={descriptionError}>
						<img src={iconWarning} class="imgwarning">
						<p class="p">&nbsp;
							{descriptionErr}</p>
					</div>
					<div class="error-throw" if:true={descriptionLengthError}>
						<img src={iconWarning} class="imgwarning">&nbsp;
						{descritionErrChar}
					</div>
					<br><label>Attachments </label>
					<div class="fileBox">
						<div class="BoxAndMb">
							<p class="fileLabelName" if:true={browserName}> Browse and upload</P>
							<template if:true={fileNames} for:each={fileNames} for:item="fileName">
								<p key={fileName} class="fileLabelName">{fileName}</p>
							</template>

							<div><img class="imgclass" src={fileIcon}></div>
							<div></div>
							<h4 class="fivemb"><span><b>5 MB</b></span>
								<p class="max">(Maximum limit)</p>
							</h4>
						</div>
					</div>
					<div class="fileBoxHide">
						<div class="fileUploadSelector">
							<lightning-file-upload name="fileUploader" accept={acceptedFormats}
								onuploadfinished={handleUploadFinished} record-id={recordId} 
								class="file-selector-image Upload">
								<span class="fiflif"></span>
							</lightning-file-upload>
						</div>
					</div>
				</div>


				<div class="buttondiv">
					<div><button class="button1" onclick={handleInsertUpdate} data-value="Report an Adverse Events"
							data-it-button="reportadverseevents: Create New Case" disabled={isSubmitButtonDisabled}>Create New Case</button></div>
					<div><button class="button2" onclick={handleInsertDraft} data-value="Report an Adverse Events" date-name="draft"
							data-it-button="reportadverseevents: Save as Draft" disabled={isButtonDisabled}>Save as Draft</button></div>

				</div>
			</div>
		</div>

	</div>

</template>