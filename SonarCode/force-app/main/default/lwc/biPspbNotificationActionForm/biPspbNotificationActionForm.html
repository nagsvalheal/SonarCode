<!--This component is used to Display Tasks based on the Action notification on clicking the Notification icon from the Dashboard.-->
<template>
	<template if:true={showDeleteToastMsg}>
		<div class="toastmsg">
			<img src={deleteToast} class="deletetoastimg">
			<div class="div">
			<p data-scroll-target class="tstmsg">Response Captured sucessfully!</p>
			<div>
				<button class="toastmsgclose" title="Close" onclick={closetoastmsg}>
					&times;
				</button>
			</div>
			
		</div>
		</div>
	</template>
	<template if:true={showDeleteToastDate}>
		<div class="toastmsg1">
			<img src={deleteToast} class="deletetoastimg">
			<div class="div">
				<div><p data-scroll-target class="tstmsg" >Date Of Treatment entered successfully!</p> <br>
					<p data-scroll-target class="tstmsg2" >Your Date Of
						Treatment has been Captured</p>
				</div>
			
			<button class="toastmsgclose" title="Close" onclick={closetoastmsgdate}>
				&times;
			</button>
			</div>
			
		</div>
	</template>
	<div class="main">
		<div class="secondMain">
			<div class="notification">
				<h3>Notifications: Action Required</h3><br>

				<div class="ActionCombo">
					<div><lightning-combobox class="combobox2 cat" value={actionCategory}
							placeholder="Select a Category" options={actionOptions}
							onchange={actioncat}></lightning-combobox></div>
					<!-- <div><lightning-combobox class="combobox2" 
							if:true={hoursDisplay} value={hoursValue}
							placeholder="Select Past due" options={hoursOptions}
							onchange={actionhrs} disabled={isHoursComboboxDisabled}></lightning-combobox></div> -->
				</div>
				<div if:true={noRecords}>
					<p class="recordclass">You currently donâ€™t have any notifications!</p>
				</div>
				<div if:true={noRecordsForTime}>
					<p class="recordclass">You are good! No actions required.</p>
				</div>
				<div if:true={recordForAction}>
				<template if:true={displayedActionValue}>
					<template for:each={displayedActionValue} for:item="actionTask">
						<h2 key={actionTask.Id}>
							<div class="generalnotify">
								<div>
									<hr if:true={actionTask.voilet} class="voilet">
									<hr if:true={actionTask.green} class="green">
									<hr if:true={actionTask.amber} class="amber">
									<hr if:true={actionTask.red} class="red">
								</div>
								<div class="actionclass">
									<div class="classimg"><img if:true={actionTask.sympimg} src={symptomImg}><img
											if:true={actionTask.QuestionImgDlqi} src={questionImg}><img
											if:true={actionTask.QuestionImgWpai} src={questionImg}><img
											if:true={actionTask.QuestionImgPss} src={questionImg}><img
											if:true={actionTask.QuestionImgQsq} src={questionImg}><img
											if:true={actionTask.treatimg} src={treatmentImg}><img
											if:true={actionTask.PersonaliseImg} src={letsPersonaliseImg}></div>
									<div class="classSubject">
										<p>{actionTask.Subject}</p>
									</div>
								</div>
								<div class="classdate">
									<p>{actionTask.FormattedDate}</p>
								</div>
								<div class="actionbtn">
									<button if:true={actionTask.dateoftreatmentyes} data-id={actionTask.Id} class='Yesbtn'
										data-action-value="Yes" onclick={handleCompleteDateOfTreatment}>YES</button>
									<button if:true={actionTask.yesbutton} data-id={actionTask.Id} class='Yesbtn'
										data-action-value="Yes" onclick={handleComplete}>YES</button>
									<button if:true={actionTask.nobutton} data-id={actionTask.Id} class='Nobtn'
										data-action-value="No" onclick={handleNotCompleted}>NO</button>
									<button if:true={actionTask.submitbutton} class='btnclass' data-id={actionTask.Id}
										onclick={clickSymptom}>Update your symptoms now</button>
									<button if:true={actionTask.StartbuttonQsq} class=' getstart' data-id={actionTask.Id}
										onclick={clickQuestionQsq}>Get started now</button>
									<button if:true={actionTask.StartbuttonPss} class=' getstart' data-id={actionTask.Id}
										onclick={clickQuestionPss}>Click to get started</button>
									<button if:true={actionTask.StartbuttonWpai} class=' getstart' data-id={actionTask.Id}
										onclick={clickQuestionWpai}>Get started now</button>
									<button if:true={actionTask.StartbuttonDlqi} class=' getstart' data-id={actionTask.Id}
										onclick={clickQuestionDlqi}>Click to start now</button>
									<button if:true={actionTask.StartbuttonLetPer} class=' getstart' data-id={actionTask.Id}
										onclick={clickLetPerQuestion}>Start</button>
								</div>
							</div>
						</h2>
					</template>
					<button class="buttonclass" if:true={showLoadMoreButton} onclick={loadMore}>Load More</button>
				</template>
				</div>
				<template if:true={showModal}>
					<section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true"
						aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
						<div class="div1">
							<!-- modal header start -->
							<header class="header">
								<button class="buttonclass2" title="Close" onclick={hideModalBox}>&times;
								</button>
								<h2 id="modal-heading-01" class="heading">Please Enter Your Date of Treatment</h2>
							</header>
							<!-- modal body start -->
							<div class="classdiv" id="modal-content-id-1">
								<p class="pclass">Please enter your date of treatment in the below field</p>
								<!-- Input for date of treatment -->
								<p class="datehead">Date of Treatment</p>
								<input class="inputdate" type="date" onchange={handleDateChange} min={minDate}
									max={maxDate}><br>
								<button class="submit" type="Submit" onclick={handleSaveDate}>Submit</button>
								<button class="cancel" onclick={hideModalBox}>Cancel</button>
							</div>
						</div>
					</section>
					<div class="slds-backdrop slds-backdrop_open"></div>
				</template>
			</div>
		</div>
	</div>
</template>