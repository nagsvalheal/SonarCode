<!--This lightningWebcomponent used for Create a lead for Guest User Created By HCP.---->
<template>
	<div class="slds-grid">
		<div class="sidebar-container">
			<div class="avatar-content-container">
				<div class="avatar-img-div">
					<img src={selectedAvatarSrc} alt="..." class="avatar-image" />
					<p class="text-content avatar-content">
						<span>{avatarContentTop}</span>
						<br>
						<br>
						<span>{avatarContentMid}</span>
					</p>
					<p class={fieldsMandatory}>
						Fields with <b class="colorstyle">*</b> are mandatory
					</p>
					<div class="text-content-div-for-mobile">
						<div class='flexclass text-content-for-mobiles'>
							<div>
								<p class="text-content-for-mobile">
									{mobileValue}
								</p>
							</div>
							<div onclick={handleClose}>
								<a><span class="closestyle">&times;</span></a>
							</div>
						</div>
						<p class="paras" if:true={fieldMobile}>
							Fields with <b class="colorstyle">*</b> are mandatory
						</p>
						<p if:true={divFalse} class="threeclickclass" onclick={threeclick}> ... </p>
					</div>
				</div>
			</div>
			<div class="hrline"></div>
			<div class="sidebar-container1"></div>
		</div>

		<div class="formContainer">

			<div class="stepOne step-container">
				<img src={BGpp} class="marTB20" alt="Beyond Gpp">
				<h1 class="heading">Enroll a Patient</h1>
				<div class="slds-form-element__help" if:true={referringErrorMessage}>
					<span class="errorFieldMsg error">{label.REFERRING_PRACTICE}</span>
				</div>
				<div class="PI ">
					<div class="one">01&nbsp;</div>
					<div class="PI">
						Physician Information
					</div>
				</div>
				<h1 class="demoFont">Physician Information*</h1>
				<div class="slds-form-element">
					<div class="slds-form-element__control">
						<label class="input-label-front searchHCPName">Physician Name</label>
						<div class=" slds-input-has-icon slds-input-has-icon_right">
							<lightning-icon if:true={searchMain} size="x-small"
								class="slds-icon slds-input__icon slds-input__icon_right slds-icon-text-default"
								icon-name="utility:search"></lightning-icon>

							<lightning-input label="Physician Name*" type="search" onclick={showHcpNamePicklist}
								onchange={hcpNameOnChange} value={selectedValueOne} class="textInput searchHCPName"
								variant="label-hidden" placeholder="Search Physician Name"
								disabled={physicianNameInputDisabled} >
							</lightning-input>
						</div>
						<div if:true={searchResultsOne} class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid"
							role="listbox">
							<ul class="slds-listbox slds-listbox_vertical" role="presentation">
								<template for:each={searchResultsOne} for:item="searchResultOne">
									<li key={searchResultOne.value} data-value={searchResultOne.value} role="presentation"
										onclick={handleHcpNameOptionClick} class="slds-listbox__item">
										<div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small"
											role="option">
											<span class="slds-media__body">
												<span class="slds-truncate" title={searchResultOne.label}>
													{searchResultOne.label} | {searchResultOne.labelForSpecialist} | City:
													{searchResultOne.labelForCity}
												</span>
											</span>
										</div>
									</li>
								</template>
							</ul>
						</div>

					</div>
				</div>
				<div class="slds-form-element__help" if:true={searchResultEmptyOne}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Unable to find the Physician</span>
				</div>

				<div class="divclass">
					<hr class="hrclass" />

					<span class="spanclass">or</span>
					<hr class="hrclass" />
				</div>
				<div class="slds-form-element">
					<div class="slds-form-element__control">
						<label class="input-label-front searchHCPId">Physician ID</label>
						<div class=" slds-input-has-icon slds-input-has-icon_right">
							<lightning-icon if:true={searchMainTwo} size="x-small"
								class="slds-icon slds-input__icon slds-input__icon_right slds-icon-text-default"
								icon-name="utility:search"></lightning-icon>

							<lightning-input label="" type="search" onclick={showHcpIdPicklist} onchange={hcpIdOnChange}
								value={selectedValueTwo} placeholder="Enter License Number" class="textInput searchHCPId"
								variant="label-hidden" disabled={physicianIdInputDisabled}
								>
							</lightning-input>
						</div>
						<div if:true={searchResultsTwo} class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid"
							role="listbox">
							<ul class="slds-listbox slds-listbox_vertical" role="presentation">
								<template for:each={searchResultsTwo} for:item="searchResultTwo">
									<li key={searchResultTwo.value} data-value={searchResultTwo.value} role="presentation"
										onclick={handleHcpIdOptionClick} class="slds-listbox__item">
										<div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small"
											role="option">
											<span class="slds-media__body">
												<span class="slds-truncate" title={searchResultTwo.label}>
													{searchResultTwo.label}
												</span>
											</span>
										</div>
									</li>
								</template>
							</ul>
						</div>
					</div>
				</div>
                <div class="slds-form-element__help" if:true={searchResultEmptyTwo}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Unable to find the Physician</span>
				</div>
				<hr class="hrclass2" />
				<div class={addNewHcpSectionClass} onclick={expandAddNewForm}>
					Could not find your information? Click here to add &nbsp;
					<lightning-icon icon-name='utility:chevrondown' alternative-text='chevrondown' size='x-small'
						title='chevrondown' if:false={isAddNew} class="iconclass">
					</lightning-icon>
					<lightning-icon icon-name='utility:chevronup' alternative-text='chevronup' size='x-small'
						title='chevronup' if:true={isAddNew} class="iconclass">
					</lightning-icon>
				</div>

				<div if:true={isAddNew}>
					<div>
						<h1 class="demoFont1">Physician Information </h1>
					</div>
					<div>
						<div class="input-div">
							<label for="hFN" data-field="hFN" class="input-label">First Name*</label>
							<lightning-input name="FirstName" value={hcpFields.firstname} 
								onchange={handleInputChangehcp} data-field="hFN" variant="label-hidden" id="hFN"
								class="textInput" placeholder="Enter First Name" maxlength="35"
								>
							</lightning-input>
							<div class="slds-form-element__help" if:true={rpFirstnameErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PHYSICIAN_FIRST_NAME}</span>
							</div>
							<div class="slds-form-element__help" if:true={rpFirstnameErrorMessageVaild}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Please enter a valid first name</span>
							</div>
						</div>
						<div class="input-div">
							<label for="hLN" data-field="hLN" class="input-label">Last Name*</label>
							<lightning-input name="LastName" value={hcpFields.lastname} 
								onchange={handleInputChangehcp} data-field="hLN" id="hLN" variant="label-hidden"
								class="textInput" placeholder="Enter Last Name" maxlength="60"></lightning-input>
							<div class="slds-form-element__help" if:true={rpLastnameErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PHYSICIAN_LAST_NAME}</span>
							</div>
							<div class="slds-form-element__help" if:true={rpLastnameErrorMessageValid}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Please enter a valid last name</span>
							</div>
						</div>
						<div class="input-div">
							<label for="hLicense" data-field="hLicense" class="input-label">License Number*</label>
							<lightning-input name="BI_PSPB_License_number__c" value={hcpFields.license}
								onchange={handleInputChangehcp} data-field="hLicense" id="hLicense"
								variant="label-hidden" class="textInput" placeholder="Enter License Number" maxlength="80">
							</lightning-input>
							<div class="slds-form-element__help" if:true={rpStateLicenseErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.LICENSE_NUMBER}</span>
							</div>
							<div class="slds-form-element__help" if:true={rpStateLicenseErrorMessageValid}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Please enter a valid License number</span>
							</div>
						</div>

						<div class="input-div">
							<label for="hPN" data-field="hPN" class="input-label">Practice Name*</label>
							<lightning-input name="Practice Name" value={hcpFields.Practicename}
								 onchange={handleInputChangehcp} data-field="hPN"
								variant="label-hidden" id="hPN" class="textInput" placeholder="Enter Practice Name" maxlength="200">
							</lightning-input>
							<div class="slds-form-element__help" if:true={rpPracticeNameErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Practice name field is required</span>
							</div>
							<div class="slds-form-element__help" if:true={RPPracticenameerrorMessagevalid}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Please enter a valid Practice name</span>
							</div>
						</div>




						<div class="input-div">
							<label for="hType" class="input-label" data-field="hType">Practice Type*</label>
							<lightning-combobox name="Practice_Type__c" value={selectedtype}
								onchange={handleInputChangehcp} options={practicetype} data-field="hType" id="hType"
								variant="label-hidden" class="textInput" placeholder="Select">
							</lightning-combobox>
							<div class="slds-form-element__help" if:true={rpPracticeTypeErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PRACTICE_TYPE_ERR}</span>
							</div>
						</div>

					</div>
					<div>
						<h1 class="demoFont1">Contact Information </h1>
					</div>
					<div>
						<div class="input-div">
							<label for="hEmail" class="input-label" data-field="hEmail">E-mail*</label>
							<lightning-input name="Email" value={hcpFields.email} onchange={handleInputChangehcp}
								data-field="hEmail" class="textInput" variant="label-hidden" id="hEmail"
								placeholder="Enter Email"></lightning-input>
							<div class="slds-form-element__help" if:true={rpEmailErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PHYSICIAN_EMAIL}</span>
							</div>
							<div class="slds-form-element__help" if:true={RpEmailErrorValid}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Please enter a valid email</span>
							</div>
						</div>
						<div class="input-div">
							<label for="hPhone" class="input-label" data-field="hPhone">Phone Number</label>
							<lightning-input name="Phone" value={hcpFields.phone} onchange={handleInputChangehcp}
								data-field="hPhone" onkeypress={handleKeyDown} class="textInput" maxlength="16"
								variant="label-hidden" id="hPhone" placeholder="+Enter Phone Number"></lightning-input>
							<div class="slds-form-element__help" if:true={rpPhoneErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PHYSICIAN_PHONE}</span>
							</div>
						</div>
						<div class="input-div">
							<label for="hFax" class="input-label" data-field="hFax">Fax</label>
							<lightning-input name="Fax" value={hcpFields.fax} onchange={handleInputChangehcp}
								data-field="hFax" onkeypress={handleKeyDown} class="textInput" maxlength="16"
								variant="label-hidden" id="hFax" placeholder="Enter Fax Number"></lightning-input>

							<div class="slds-form-element__help" if:true={rpFaxErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Please enter a valid fax number</span>
							</div>
						</div>
						<div class="input-div">
							<label for="hcc" class="input-label" data-field="hcc">Country*</label>
							<lightning-combobox name="mailingCountryCode" value={selectedCountry}
								onchange={handleCountryChange} options={CountryCode} data-field="hcc" class="textInput"
								variant="label-hidden" id="hcc" placeholder="Select Country Name">
							</lightning-combobox>
							<div class="slds-form-element__help" if:true={RPcountryerrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PHYSICIAN_COUNTRY}</span>
							</div>
						</div>
						<div class="input-div">
							<label for="hLicense" class="input-label" data-field="hsc">State*</label>
							<lightning-combobox name="MailingStateCode" value={selectedstate}
								onchange={handleInputChangehcp} options={StateCode} data-field="hsc" class="textInput"
								variant="label-hidden" placeholder="Select State Name">
							</lightning-combobox>
							<div class="slds-form-element__help" if:true={rpStateCodeErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PHYSICIAN_STATE}</span>
							</div>
						</div>
						<div class="input-div">
							<label for="hcity" class="input-label" data-field="hc">City*</label>
							<lightning-input name="MailingCity" value={hcpFields.city} onchange={handleInputChangehcp}
								data-field="hc" class="textInput" variant="label-hidden" placeholder="Enter City Name" maxlength="35">
							</lightning-input>
							<div class="slds-form-element__help" if:true={rpCityErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PHYSICIAN_CITY}</span>
							</div>
							<div class="slds-form-element__help" if:true={rpCityErrorMessageValid}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Please enter a valid city</span>
							</div>
						</div>
						<div class="input-div">
							<label for="hLicense" class="input-label" data-field="hs">Street address*</label>
							<lightning-textarea name="MailingStreet" value={hcpFields.street}
								onchange={handleInputChangehcp} data-field="hs" class="textInput" variant="label-hidden"
								placeholder="Enter Address">
							</lightning-textarea>
							<div class="slds-form-element__help" if:true={rpStreetErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PHYSICIAN_STREET}</span>
							</div>
						</div>
						<div class="input-div">
							<label for="hLicense" class="input-label" data-field="hpc">Zip code*</label>
							<lightning-input name="MailingPostalCode" value={hcpFields.code}
								onchange={handleInputChangehcp} data-field="hpc" class="textInput"
								variant="label-hidden" placeholder="Enter Zip code">
							</lightning-input>
							<div class="slds-form-element__help" if:true={rpPostalCodeErrorMessage}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">{label.PHYSICIAN_ZIPCODE}</span>
							</div>
							<div class="slds-form-element__help" if:true={RPpostalerrorMessagevalid}>
								<img class="warningclass" src={warning}>
								<span class="errorFieldMsg">Please enter a valid zipcode</span>
							</div>
						</div>

					</div>
				</div>
				<hr class="hrclass3" />
				<div class="btn-div">
					<button class="prev-button" onclick={goToHome}>Cancel</button>
					<button class="next-button" onclick={goToStepTwo}>Next</button>
				</div>
			</div>
			<div class="stepTwo step-container slds-hide">
				<img src={BGpp} class="marTB20" alt="Beyond Gpp">
				<h1 class="heading">Enroll a Patient</h1>

				<div class="slds-form-element__help" if:true={unique}>

					<span class="Matching">A patient account matching this information<br> already exist in the
						system</span>
				</div>
				<div class="PI ">
					<div class="one">02&nbsp;</div>
					<div class="PI">
						Patient Information
					</div>
				</div>
				<h1 class="demoFont">Patient Information</h1>
				<div class="input-div">
					<label class="input-label" data-field="pFN">First Name*</label>
					<lightning-input label="First Name*" name="FirstName" value={leadFields.FirstName} class="textInput"
						 onchange={handleInputChange} placeholder="Enter First Name"
						variant="label-hidden" data-field="pFN" maxlength="35">
					</lightning-input>
					<div class="slds-form-element__help" if:true={firstnameErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.PATIENT_FIRST_NAME}</span>
					</div>
					<div class="slds-form-element__help" if:true={firstnameErrorMessagevaild}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Please enter a valid first name</span>
					</div>
				</div>
				<div class="input-div">
					<label class="input-label" data-field="pLN">Last Name*</label>
					<lightning-input label="Last Name*" name="LastName" value={leadFields.LastName} class="textInput"
						 onchange={handleInputChange} placeholder="Enter Last Name"
						variant="label-hidden" data-field="pLN" maxlength="60">
					</lightning-input>
					<div class="slds-form-element__help" if:true={lastnameErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.PATIENT_LAST_NAME}</span>
					</div>
					<div class="slds-form-element__help" if:true={lastnameErrorMessagevaild}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Please enter a valid last name</span>
					</div>
				</div>
				<div class="input-div">
					<label class="input-label" data-field="pdob">Date of Birth*</label>
					<lightning-input type="date" label="Date of Birth*" name="dob" value={leadFields.dob}
						class="textInput" onchange={agecalculationEvent} placeholder="DD.MM.YYYY" variant="label-hidden"
						onkeydown={handleKeyDownThree} data-field="pdob" onclick={onClickCalendar} onblur={onBlurCalendar}>
					</lightning-input>
					<div class="slds-form-element__help" if:true={dobErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.PATIENT_DATE_OF_BIRTH}</span>
					</div>


					<div class="slds-form-element__help" if:true={error}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.PATIENT_FUTURE_DATE}</span>
					</div>
					<div class="slds-form-element__help" if:true={oneNineZeroZeroErrors}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Year of Birth should not be less than 1900</span>
					</div>
				</div>
				<div class="input-div">
					<label class="input-label" data-field="pGender">Gender*</label>
					<lightning-combobox name="HealthCloudGA__Gender__c" label="Gender*" placeholder="Select"
						class="textInput" options={leadGender} value={selectedGender} onchange={handleGenderChange}
						variant="label-hidden" data-field="pGender">
					</lightning-combobox>
					<div class="slds-form-element__help" if:true={genderErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.PATIENT_GENDER}</span>
					</div>
				</div>
				<div class="input-div" if:true={isAdult}>
					<label class="input-label" data-field="pEmail">E-mail*</label>
					<lightning-input label="E-mail ID*" name="Email" value={leadFields.Email} class="textInput"
						onchange={handleInputChange} placeholder="Enter Email" variant="label-hidden"
						data-field="pEmail">
					</lightning-input>
					<div class="slds-form-element__help" if:true={emailErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.PATIENT_EMAIL}</span>
					</div>
					<div class="slds-form-element__help" if:true={emailErrorValid}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Please enter a valid email</span>
					</div>
					<div class="slds-form-element__help flexclass" if:true={matchEmail}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg exits">This email is already associated with a patient or 
							caregiver account. Please use a different email to proceed.</span>
					</div>
				</div>
				<div class="input-div" if:true={isAdult}>
					<label class="input-label" data-field="pPhone">Phone Number</label>
					<lightning-input label="Phone number" type="tel" name="Phone" value={leadFields.Phone}
						onkeypress={handleKeyDown} class="textInput" maxlength="16" onchange={handleInputChange}
						placeholder="+ Enter Phone Number" variant="label-hidden" data-field="pPhone">
					</lightning-input>
					<div class="slds-form-element__help" if:true={phnErrorValid}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Please enter a valid phone number</span>
					</div>
				</div>
				<div class="btn-div">
					<button class="prev-button" onclick={goBackToStepOne}>Previous</button>
					<button class="next-button" onclick={goToStepThree}>Next</button>
				</div>
			</div>
			<div class="stepThree step-container slds-hide">
				<!-- <lightning-card title="Caregiver Information"> -->
				<img src={BGpp} class="marTB20" alt="Beyond Gpp">
				<h1 class="heading">Enroll a Patient</h1>
				<div class="PI ">
					<div class="one">03&nbsp;</div>
					<div class="PI">
						Caregiver Information
					</div>
				</div>
				<h1 class="demoFont">Caregiver Information</h1>
				<div class="input-div">
					<label class="input-label cFN">First Name*</label>
					<lightning-input label="First Name*" name="CaregiverFirstName" value={caregiverFields.FirstName}
						 onchange={handleInputChangeCaregiver} class="textInput cFN"
						variant="label-hidden" placeholder="Enter First Name" maxlength="35">
					</lightning-input>
					<div class="slds-form-element__help" if:true={careFirstnameErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.CAREGIVER_FIRST_NAME}</span>
					</div>
					<div class="slds-form-element__help" if:true={careFirstnameErrorMessageValid}>
						<img class="warningclass" src={warning}>
						<span class='errorFieldMsg'>Please enter a valid first name</span>
					</div>
				</div>
				<div class="input-div">
					<label class="input-label cLN">Last Name*</label>
					<lightning-input label="Last Name*" name="CaregiverLastName" value={caregiverFields.LastName}
					 onchange={handleInputChangeCaregiver} class="textInput cLN"
						variant="label-hidden" placeholder="Enter Last Name" maxlength="60"> 
					</lightning-input>
					<div class="slds-form-element__help" if:true={careLastnameErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.CAREGIVER_LAST_NAME}</span>
					</div>
					<div class="slds-form-element__help" if:true={careLastnameErrorMessageValid}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Please enter a valid last name</span>
					</div>


				</div>
				<div class="input-div">
					<label class="input-label cDob">Date of Birth*</label>
					<lightning-input type="date" label="Date of Birth*" name="caredob" value={caregiverFields.dob}
						onchange={careagecalculation} class="textInput cDob" variant="label-hidden"
						onkeydown={handleKeyDownThree} placeholder="DD.MM.YYYY" onclick={onClickCalendar} onblur={onBlurCalendar}>
					</lightning-input>
					<div class="slds-form-element__help" if:true={careDobErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Date of Birth is required.</span>
					</div>
					<div class="slds-form-element__help" if:true={errors}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Date of Birth cannot be a future date</span>
					</div>
					<div class="slds-form-element__help" if:true={careOneNineZerZeroErrors}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Year of Birth should not be less than 1900</span>
					</div>
					<div class="slds-form-element__help" if:true={minorError}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.CAREGIVER_DATE_OF_BIRTH}</span>
					</div>
				</div>
				<div class="input-div">
					<label class="input-label cRel">Relationship with the Patient*</label>
					<lightning-combobox label="Relationship" name="CaregiverRelationship" placeholder="Select"
						value={selectedRelationship} options={Relationship} onchange={handleInputChangeCaregiver}
						class="textInput cRel" variant="label-hidden">
					</lightning-combobox>
					<div class="slds-form-element__help" if:true={relationshipErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.CAREGIVER_RELATIONSHIP}</span>
					</div>
				</div>
				<div class="input-div">
					<label class="input-label cEmail">E-mail*</label>
					<lightning-input label="E-mail ID*" name="CaregiverEmail" value={caregiverFields.Email}
						onchange={handleInputChangeCaregiver} class="textInput cEmail" variant="label-hidden"
						placeholder="Enter Email ">
					</lightning-input>
					<div class="slds-form-element__help" if:true={careEmailErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.CAREGIVER_EMAIL}</span>
					</div>
					<div class="slds-form-element__help" if:true={cEmailErrorValid}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Please enter a valid email</span>
					</div>
					<div class="slds-form-element__help flexclass" if:true={matchCaregiverEmail}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg exits">This email is already associated with a patient or 
							caregiver account. Please use a different email to proceed</span>
					</div>
				</div>
				<div class="input-div">
					<label class="input-label cPhone" data-field="cPhone">Phone Number</label>
					<lightning-input label="Phone" type="tel" data-field="cPhone" name="CaregiverPhone"
						value={caregiverFields.Phone} onkeypress={handleKeyDown} onchange={handleInputChangeCaregiver}
						maxlength="16" class="textInput cPhone" variant="label-hidden"
						placeholder='+ Enter Phone Number'>
					</lightning-input>
					<div class="slds-form-element__help" if:true={cphoneerrorvalid}>
						<img class="warningclass" src={warning}>
						<span class='errorFieldMsg'>Please enter a valid phone number</span>
					</div>
				</div>

				<div class="btn-div">
					<button class="prev-button" onclick={goBackToStepTwo}>Previous</button>
					<button class="next-button" onclick={goToStepFour}>Next</button>
				</div>
			</div>
			<div class="stepFour step-container slds-hide">
				<!-- <lightning-card title="Prescription Information"> -->
				<img src={BGpp} class="marTB20" alt="Beyond Gpp">
				<h1 class="heading">Enroll a Patient</h1>
				<div class="PI">
					<div class="one" if:true={numThree}>03&nbsp;</div>
					<div class="one" if:true={numFour}>04&nbsp;</div>
					<div class="PI">
						Prescription Information
					</div>
				</div>
				<h1 class="demoFont">Prescription Information</h1>
				<!-- <span class="required">*</span> -->
				<div class="slds-form-element">
					<div class="slds-form-element__control">
						<label class="input-label hDrug">Drug*</label>
						<div class=" slds-input-has-icon slds-input-has-icon_right">
							<lightning-icon if:true={searchValueLogo} size="x-small"
								class="slds-icon slds-input__icon slds-input__icon_right slds-icon-text-default"
								icon-name="utility:search"></lightning-icon>
							<lightning-input label="Drug*" type="search" onclick={showPicklistOptions} onchange={search}
								value={SELECTED_VALUE} class="textInput hDrug" variant="label-hidden"
								placeholder="Search Drug Name" >
							</lightning-input>
						</div>
						<div if:true={searchResults} class="slds-dropdown slds-dropdown_length-5 slds-dropdown_fluid"
							role="listbox">
							<ul class="slds-listbox slds-listbox_vertical" role="presentation">
								<template for:each={searchResults} for:item="searchResult">
									<li key={searchResult.value} data-value={searchResult.value} role="presentation"
										onclick={selectSearchResult} class="slds-listbox__item">
										<div class="slds-media slds-listbox__option slds-listbox__option_plain slds-media_small"
											role="option">
											<span class="slds-media__body">
												<span class="slds-truncate" title={searchResult.label}>
													{searchResult.label}
												</span>
											</span>
										</div>
									</li>
								</template>
							</ul>
						</div>
					</div>
				</div>

				<div class="slds-form-element__help" if:true={drugErrorMessage}>
					<img class="warningclass" src={warning}>
					<span class="errorFieldMsg">{label.DRUGNAME}</span>
				</div>
				<div class="slds-form-element__help" if:true={searchResultEmpty}>
					<img class="warningclass" src={warning}>
					<span class="errorFieldMsg">Unable to find the Drug</span>
				</div>
				<div class="input-div">
					<label class="input-label">Drug Code</label>
					<lightning-input label="Drug Code*" name="DosageCode" value={prescriptionFields.DosageCode}
						onchange={handleInputChange2} class="textInput" disabled variant="label-hidden"
						placeholder="Enter Drug Code">
					</lightning-input>
				</div>
				<div class="dosage-unit-input-container">
					<div class="input-div dosage-unit-input-div">
						<label class="input-label">Dosage</label>
						<lightning-input label="Dosage*" name="Dosage" value={prescriptionFields.Dosage}
							onchange={handleInputChange2} class="textInput dosage-frequency-input" disabled
							variant="label-hidden" placeholder="0">
						</lightning-input>
					</div>
					<div class="input-div dosage-unit-input-div">
						<label class="input-label">Units</label>
						<lightning-input label="Unit" name="Unit" value={prescriptionFields.Unit}
							onchange={handleInputChange2} class="textInput" disabled variant="label-hidden"
							placeholder="mg">
						</lightning-input>
					</div>
				</div>
				<div class="input-div">
					<label class="input-label">Quantity</label>
					<lightning-input label="Quantity*" name="Quantity" value={prescriptionFields.Quantity}
						onkeydown={handleKeyDownTwo} onchange={handleInputChange2} class="textInput" variant="label-hidden"
						placeholder="Enter Quantity">
					</lightning-input>
				</div>
				<div class="dosage-unit-input-container">
					<div class="input-div dosage-unit-input-div">
						<label class="input-label hFreq">Frequency</label>
						<lightning-input label="Frequency*" name="Frequency" value={prescriptionFields.Frequency}
							onkeydown={handleKeyDownTwo} onchange={handleInputChange2}
							class="textInput hFreq dosage-frequency-input" variant="label-hidden" placeholder="0">
						</lightning-input>

					</div>
					<div class="input-div dosage-unit-input-div">
						<label class="input-label hFreqUnit">Units</label>
						<lightning-combobox name="frequcncyunit" label="Unit*" placeholder="Select"
							options={FrequencyUnit} value={selectedunit} onchange={handleInputChange2}
							class="textInput hFreqUnit" variant="label-hidden">
						</lightning-combobox>

					</div>
				</div>
				<div class="input-div">
					<label class="input-label">Number of Refills</label>
					<lightning-input label="No of refills*" name="refill" value={prescriptionFields.refill}
						onkeydown={handleKeyDownTwo} onchange={handleInputChange2} class="textInput" variant="label-hidden"
						placeholder="Enter Number of Refills">
					</lightning-input>
				</div>
				<div class="input-div">
					<label class="input-label hpdate">Prescribed Date*</label>
					<lightning-input type="date" label="Prescribed Date*" name="Prescribed_Date__c"
						value={prescriptionFields.date} onchange={datecalculation} class="textInput hpdate"
						onkeydown={handleKeyDownThree} variant="label-hidden" placeholder="DD.MM.YYYY" onclick={onClickCalendar} date-style="short"
						onblur={onBlurCalendar}>
					</lightning-input>
					<div class="slds-form-element__help" if:true={dateErrorMessage}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.PRESCRIBED_DATE}</span>
					</div>
					<div class="slds-form-element__help" if:true={errorss}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">{label.PRESCRIBED_FUTURE_DATE}</span>
					</div>
					<div class="slds-form-element__help" if:true={presOneNineZeroZeroErrors}>
						<img class="warningclass" src={warning}>
						<span class="errorFieldMsg">Year of prescription cannot be older than 1900</span>
					</div>
				</div>
				<h1 class="demoFont1">Consent Information</h1>
				<div class="color1-properties">
<div class="custom-checkbox-container">
        <input type="checkbox" id="customCheckbox" class="custom-checkbox" onchange={handleInputChange3} value={consentFields.authorize} />
        <label for="customCheckbox" class="custom-checkbox-label">
              <span class="custom-checkbox-box" data-field="checkbox"></span>
        </label>
    </div>
					<span class="Agreeclass">Agree to the&nbsp;</span>
					<label onclick={showModal} class="termclass">terms and
						conditions
					</label>
				</div>
				<template if:true={openModal}>
					<div class="slds-modal slds-fade-in-open slds-backdrop">
						<div class="slds-modal__container">
							<!------HEADER Section-->
							<div class="slds-modal__header">
								<lightning-button-icon icon-name="utility:close" alternative-text="Close this window"
									size="large" variant="bare-inverse" onclick={closeModal} class="close-icon">
								</lightning-button-icon>
								<h2>Terms and Conditions</h2>
							</div>
							<!------Body Section-->
							<div class="slds-modal__content slds-p-around_medium">
								<p>Lorem ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.</p>
								<h2 class="terms-conditions-subheading">Et adipisci tempora eum dolor iure</h2>
								<p>Est atque neque qui dignissimos galisum in distinctio eveniet ab esse nobis eum
									iusto consequuntur est fugit maiores et dolores sint. Qui voluptatum tempore vel
									molestiae architecto ut nostrum autem qui optio dicta?</p>
								<h2 class="terms-conditions-subheading">Your loved ones are here to support you</h2>
								<p>Lorem ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.</p>
								<p>Lorem ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.</p>
								<p>Lorem ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.Lorem
									ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.</p>
								<h2 class="terms-conditions-subheading">Et adipisci tempora eum dolor iure.</h2>
								<p>Lorem ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit. Lorem
									ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.</p>
								<p>Lorem ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.Lorem
									ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.</p>
								<h2 class="terms-conditions-subheading">Et adipisci tempora eum dolor iure</h2>
								<p>Est atque neque qui dignissimos galisum in distinctio eveniet ab esse nobis eum
									iusto consequuntur est fugit maiores et dolores sint. Qui voluptatum tempore vel
									molestiae architecto ut nostrum autem qui optio dicta?</p>
								<h2 class="terms-conditions-subheading">Your loved ones are here to support you</h2>
								<p>Lorem ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.</p>
								<p>Lorem ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.</p>
								<p>Lorem ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.Lorem
									ipsum dolor sit amet. Quo saepe inventore ut galisum dicta et perferendis
									laborum. Sed fugit consequatur qui praesentium internos id officiis tempore eum
									veniam culpa ad ipsam repudiandae aut veniam natus aut assumenda repellat. Eum
									delectus vitae aut nisi enim aut velit dolorem eos labore reprehenderit.</p>
							</div>

						</div>
					</div>
				</template>

				<div class="slds-form-element__help" if:true={authorizeErrorMessage}>
					<img class="warningclass" src={warning}>
					<span class="errorFieldMsg">{label.AGREE}</span>
				</div>
				<div class="btn-div" if:false={isButtonDisabled}>
					<button class="prev-button" onclick={goBackToStepThree}>Previous</button>
					<button type="button" onclick={handleCreateLead} class="next-button">Submit</button>
				</div>
				<div class="btn-div" if:true={isButtonDisabled}>
					<button class="prev-button" onclick={goBackToStepThree}>Previous</button>
					<button type="button" onclick={handleCreateLead}  disabled={isButtonDisabled} class="disable-button">Submit</button>
				</div>


			</div>
			<div class="progress-bar-container-parent">
				<div class="slds-progress slds-progress_vertical progress-bar-container">

					<h1 class="mobile-heading">Enroll a Patient</h1>
					<div class="progress-label">Progress</div>
					<ol class="slds-progress__list progress-ol">
						<li class="slds-progress__item slds-is-active li-one">
							<div class="slds-progress__marker"></div>
							<div class="progress-label-count">01&nbsp;</div>
							<div class="slds-progress__item_content slds-grid slds-grid_align-spread progress-label">
								Physician Information
							</div>
						</li>
						<li class="slds-progress__item li-two">
							<div class="slds-progress__marker"></div>
							<div class="progress-label-count">02&nbsp;</div>
							<div class="slds-progress__item_content slds-grid slds-grid_align-spread progress-label">
								Patient Information
							</div>
						</li>
						<li class="slds-progress__item li-three slds-hide">
							<div class="slds-progress__marker"></div>
							<div class="progress-label-count">03&nbsp;</div>
							<div class="slds-progress__item_content slds-grid slds-grid_align-spread progress-label">
								Caregiver Information
							</div>
						</li>
						<li class="slds-progress__item li-four">
							<div class="slds-progress__marker"></div>
							<div class="prescription-label progress-label-count">{level}&nbsp;</div>
							<div class="slds-progress__item_content slds-grid slds-grid_align-spread progress-label">
								Prescription Information
							</div>
						</li>
					</ol>
				</div>
			</div>
		</div>
		<template if:true={isLoaded}>
			<lightning-spinner alternative-text="Loading..." variant="brand"> </lightning-spinner>
		</template>
	</div>
</template>